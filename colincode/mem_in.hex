6f 00 c0 01 // jal x0, 28 (hanoi)   0

// let x15 = stack pointer (starts at 0x3fc)

// push and pop store/retrieve x13 to/from the stack
// push:
93 87 c7 ff // addi x15, x15, -4    4
23 a0 d7 00 // sw x13, 0(x15)       8
67 00 07 00 // jalr x0, 0(x14)      c

// pop:
83 a6 07 00 // lw x13, 0(x15)       10
93 87 47 00 // addi x15, x15, 4     14 
67 00 07 00 // jalr x0, 0(x14)      18




// hanoi:

93 86 f6 0f // addi x13, x13, 0xff  1c
6f f7 5f fe // jal x14, -28 (push)  20 
93 86 16 00 // addi x13, x13, 1     24
6f f7 9f fe // jal x14, -24 (pop)   28


00 00 00 00

   


//  x1: n (number of discs)
//  x2: source peg (1)
//  x3: target peg (2)
//  x4: auxiliary peg (3)

// hanoi:
63 86 00 04   // beq x1, x0, end (76)
93 80 f0 ff   // addi x1, x1, -1
b3 82 01 00   // add x5, x3, x0
b3 01 02 00   // add x3, x4, x0
33 82 02 00   // add x4, x5, x0
6f f5 1f ff   // jal x10, hanoi (-16)

13 05 00 05   // addi x10, x0, 0x50
33 83 00 00   // add x6, x1, x0
13 13 13 00   // slli x6, x6, 1
33 03 61 00   // add x6, x2, x6
13 13 13 00   // slli x6, x6, 1
33 83 61 00   // add x6, x3, x6
23 09 63 00   // sh x6, 0(x7)
93 83 23 00   // addi x7, x7, 2

93 80 f0 ff   // addi x1, x1, -1
b3 02 01 00   // add x5, x2, x0
33 01 02 00   // add x2, x4, x0
33 82 02 00   // add x4, x5, x0
// 6f f5 9f fb   // jal x10, hanoi (-72)
// end:
67 00 05 00   // jalr x0, 0(x10)
00 00 00 00
00 00 00 00
00 00 00 00




33 00 00 00
33 00 00 00
33 00 00 00
33 00 00 00
33 00 00 00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
33
00
00
00
ff